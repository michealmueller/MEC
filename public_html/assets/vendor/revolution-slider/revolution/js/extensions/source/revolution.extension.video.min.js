(function(g){var e=jQuery.fn.revolution,n=e.is_mobile(),k=e.is_android(),m={alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.6.4",version:"2.2.0"};jQuery.extend(true,e,{preLoadAudio:function(p,q){if(e.compare_version(m).check==="stop"){return false}p.find(".tp-audiolayer").each(function(){var r=jQuery(this),s={};if(r.find("audio").length===0){s.src=r.data("videomp4")!=undefined?r.data("videomp4"):"",s.pre=r.data("videopreload")||"";if(r.attr("id")===undefined){r.attr("audio-layer-"+Math.round(Math.random()*199999))}s.id=r.attr("id");s.status="prepared";s.start=jQuery.now();s.waittime=r.data("videopreloadwait")*1000||5000;if(s.pre=="auto"||s.pre=="canplaythrough"||s.pre=="canplay"||s.pre=="progress"){if(q.audioqueue===undefined){q.audioqueue=[]}q.audioqueue.push(s);e.manageVideoLayer(r,q)}}})},preLoadAudioDone:function(r,p,q){if(p.audioqueue&&p.audioqueue.length>0){jQuery.each(p.audioqueue,function(s,t){if(r.data("videomp4")===t.src&&(t.pre===q||t.pre==="auto")){t.status="loaded"}})}},resetVideo:function(p,t,C,z){var B=p.data();switch(B.videotype){case"youtube":var A=B.player;try{if(B.forcerewind=="on"){var E=o(p.data("videostartat")),q=E==-1?true:false,y=B.bgvideo===1||p.find(".tp-videoposter").length>0?true:false;if(B.player!=undefined){E=E==-1?0:E;B.player.seekTo(E);B.player.pauseVideo()}}}catch(w){}if(p.find(".tp-videoposter").length==0&&B.bgvideo!==1&&C!==true){punchgs.TweenLite.to(p.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}break;case"vimeo":if(!z){var v=p.data("vimeoplayer");try{if(B.forcerewind=="on"){var E=o(B.videostartat),u=0,q=E==-1?true:false,y=B.bgvideo===1||p.find(".tp-videoposter").length>0?true:false;E=E==-1?0:E;if((E!==0&&!q)||y){v.setCurrentTime(E);v.pause()}}}catch(w){}}if(p.find(".tp-videoposter").length==0&&B.bgvideo!==1&&C!==true){punchgs.TweenLite.to(p.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}break;case"html5":if(n&&B.disablevideoonmobile==1){return false}var D=B.audio=="html5"?"audio":"video",x=p.find(D),r=x[0];punchgs.TweenLite.to(x,0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});if(B.forcerewind=="on"&&!p.hasClass("videoisplaying")){try{var E=o(B.videostartat);r.currentTime=E==-1?0:E}catch(w){}}if(B.volume=="mute"||e.lastToggleState(p.videomutetoggledby)||t.globalmute===true){r.muted=true}break}},isVideoMuted:function(p,r){var u=false,w=p.data();switch(w.videotype){case"youtube":try{var v=w.player;u=v.isMuted()}catch(s){}break;case"vimeo":try{if(w.volume=="mute"){u=true}}catch(s){}break;case"html5":var x=w.audio=="html5"?"audio":"video",t=p.find(x),q=t[0];if(q.muted){u=true}break}return u},muteVideo:function(p,r){var w=p.data();switch(w.videotype){case"youtube":try{var v=w.player;v.mute()}catch(t){}break;case"vimeo":try{var s=p.data("vimeoplayer");p.data("volume","mute");s.setVolume(0)}catch(t){}break;case"html5":var x=w.audio=="html5"?"audio":"video",u=p.find(x),q=u[0];q.muted=true;break}},unMuteVideo:function(p,r){if(r.globalmute===true){return}var w=p.data();switch(w.videotype){case"youtube":try{var v=w.player;v.unMute()}catch(t){}break;case"vimeo":try{var s=p.data("vimeoplayer");p.data("volume","1");s.setVolume(1)}catch(t){}break;case"html5":var x=w.audio=="html5"?"audio":"video",u=p.find(x),q=u[0];q.muted=false;break}},stopVideo:function(p,r){var w=p.data();if(!r.leaveViewPortBasedStop){r.lastplayedvideos=[]}r.leaveViewPortBasedStop=false;switch(w.videotype){case"youtube":try{var v=w.player;if(v.getPlayerState()===2||v.getPlayerState()===5){return}v.pauseVideo();w.youtubepausecalled=true;setTimeout(function(){w.youtubepausecalled=false},80)}catch(t){console.log("Issue at YouTube Video Pause:");console.log(t)}break;case"vimeo":try{var s=p.data("vimeoplayer");s.pause();w.vimeopausecalled=true;setTimeout(function(){w.vimeopausecalled=false},80)}catch(t){console.log("Issue at Vimeo Video Pause:");console.log(t)}break;case"html5":var x=w.audio=="html5"?"audio":"video",u=p.find(x),q=u[0];if(u!=undefined&&q!=undefined){q.pause()}break}},playVideo:function(p,t){clearTimeout(p.data("videoplaywait"));var y=p.data();switch(y.videotype){case"youtube":if(p.find("iframe").length==0){p.append(p.data("videomarkup"));l(p,t,true)}else{if(y.player.playVideo!=undefined){var z=o(p.data("videostartat")),v=y.player.getCurrentTime();if(p.data("nextslideatend-triggered")==1){v=-1;p.data("nextslideatend-triggered",0)}if(z!=-1&&z>v){y.player.seekTo(z)}if(y.youtubepausecalled!==true){y.player.playVideo()}}else{p.data("videoplaywait",setTimeout(function(){if(y.youtubepausecalled!==true){e.playVideo(p,t)}},50))}}break;case"vimeo":if(p.find("iframe").length==0){p.removeData("vimeoplayer");p.append(p.data("videomarkup"));l(p,t,true)}else{if(p.hasClass("rs-apiready")){var r=p.find("iframe").attr("id"),w;if(!p.data("vimeoplayer")){w=new Vimeo.Player(r);p.data("vimeoplayer",w)}else{w=p.data("vimeoplayer")}if(!w.getPaused()){p.data("videoplaywait",setTimeout(function(){if(y.vimeopausecalled!==true){e.playVideo(p,t)}},50))}else{setTimeout(function(){var C=o(p.data("videostartat")),B=p.data("currenttime");if(!B){B=0}if(p.data("nextslideatend-triggered")==1){B=-1;p.data("nextslideatend-triggered",0)}if(C!=-1&&C>B){w.setCurrentTime(C)}w.play()},510)}}else{p.data("videoplaywait",setTimeout(function(){if(y.vimeopausecalled!==true){e.playVideo(p,t)}},50))}}break;case"html5":var A=y.audio=="html5"?"audio":"video",x=p.find(A),q=x[0],u=x.parent();if(u.data("metaloaded")!=1){f(q,"loadedmetadata",function(C){e.resetVideo(C,t);q.play();var D=o(C.data("videostartat")),B=q.currentTime;if(C.data("nextslideatend-triggered")==1){B=-1;C.data("nextslideatend-triggered",0)}if(D!=-1&&D>B){q.currentTime=D}}(p))}else{q.play();var z=o(p.data("videostartat")),v=q.currentTime;if(p.data("nextslideatend-triggered")==1){v=-1;p.data("nextslideatend-triggered",0)}if(z!=-1&&z>v){q.currentTime=z}}break}},isVideoPlaying:function(r,q){var p=false;if(q.playingvideos!=undefined){jQuery.each(q.playingvideos,function(s,t){if(r.attr("id")==t.attr("id")){p=true}})}return p},removeMediaFromList:function(q,p){d(q,p)},prepareCoveredVideo:function(s,r){if(r.data("vimeoid")!==undefined&&r.data("vimeoplayerloaded")===undefined){return}var q={};q.ifr=r.find("iframe, video");q.asp=r.data("aspectratio");q.wa=q.asp.split(":")[0];q.ha=q.asp.split(":")[1];q.vd=q.wa/q.ha;if(s.conw===0||s.conh===0){e.setSize(s);clearTimeout(q.ifr.data("resizelistener"));q.ifr.data("resizelistener",setTimeout(function(){e.prepareCoveredVideo(s,r)},100));return}var p=s.conw/s.conh,u=(p/q.vd)*100,t=(q.vd/p)*100;if(p>q.vd){punchgs.TweenLite.set(q.ifr,{height:u+"%",width:"100%",top:-(u-100)/2+"%",left:"0px",position:"absolute"})}else{punchgs.TweenLite.set(q.ifr,{width:t+"%",height:"100%",left:-(t-100)/2+"%",top:"0px",position:"absolute"})}if(!q.ifr.hasClass("resizelistener")){q.ifr.addClass("resizelistener");jQuery(window).resize(function(){e.prepareCoveredVideo(s,r);clearTimeout(q.ifr.data("resizelistener"));q.ifr.data("resizelistener",setTimeout(function(){e.prepareCoveredVideo(s,r)},90))})}},checkVideoApis:function(q,p,x){var w=location.protocol==="https:"?"https":"http";if((q.data("ytid")!=undefined||q.find("iframe").length>0&&q.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)){p.youtubeapineeded=true}if((q.data("ytid")!=undefined||q.find("iframe").length>0&&q.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&x.addedyt==0){p.youtubestarttime=jQuery.now();x.addedyt=1;var r=document.createElement("script");r.src="https://www.youtube.com/iframe_api";var v=document.getElementsByTagName("script")[0],t=true;jQuery("head").find("*").each(function(){if(jQuery(this).attr("src")=="https://www.youtube.com/iframe_api"){t=false}});if(t){v.parentNode.insertBefore(r,v)}}if((q.data("vimeoid")!=undefined||q.find("iframe").length>0&&q.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)){p.vimeoapineeded=true}if((q.data("vimeoid")!=undefined||q.find("iframe").length>0&&q.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&x.addedvim==0){p.vimeostarttime=jQuery.now();x.addedvim=1;var u=document.createElement("script"),v=document.getElementsByTagName("script")[0],t=true;u.src="https://player.vimeo.com/api/player.js";jQuery("head").find("*").each(function(){if(jQuery(this).attr("src")=="https://player.vimeo.com/api/player.js"){t=false}});if(t){v.parentNode.insertBefore(u,v)}}return x},manageVideoLayer:function(O,r,z,C){if(e.compare_version(m).check==="stop"){return false}var Q=O.data(),H=Q.videoattributes,w=Q.ytid,q=Q.vimeoid,K=Q.videopreload==="auto"||Q.videopreload==="canplay"||Q.videopreload==="canplaythrough"||Q.videopreload==="progress"?"auto":Q.videopreload,F=Q.videomp4,v=Q.videowebm,J=Q.videoogv,I=Q.allowfullscreenvideo,B=Q.videocontrols,y="http",A=Q.videoloop=="loop"?"loop":Q.videoloop=="loopandnoslidestop"?"loop":"",L=(F!=undefined||v!=undefined)?"html5":(w!=undefined&&String(w).length>1)?"youtube":(q!=undefined&&String(q).length>1)?"vimeo":"none",R=Q.audio=="html5"?"audio":"video",x=(L=="html5"&&O.find(R).length==0)?"html5":(L=="youtube"&&O.find("iframe").length==0)?"youtube":(L=="vimeo"&&O.find("iframe").length==0)?"vimeo":"none";A=Q.nextslideatend===true?"":A;Q.videotype=L;switch(x){case"html5":if(B!="controls"){B=""}var R="video";if(Q.audio=="html5"){R="audio";O.addClass("tp-audio-html5")}var p="";if(R==="video"){if(e.is_mobile()||e.isSafari11()){if(Q.autoplay==="on"||Q.autoplay==="true"||Q.autoplay===true){p="muted playsinline autoplay"}else{if(Q.videoinline==true||Q.videoinline==="true"||Q.videoinline===1){p+=" playsinline"}}}}var u="<"+R+" "+p+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+A+' preload="'+K+'">';if(K=="auto"){r.mediapreload=true}if(v!=undefined&&e.get_browser().toLowerCase()=="firefox"){u=u+'<source src="'+v+'" type="video/webm" />'}if(F!=undefined){u=u+'<source src="'+F+'" type="video/mp4" />'}if(J!=undefined){u=u+'<source src="'+J+'" type="video/ogg" />'}u=u+"</"+R+">";var P="";if(I==="true"||I===true){P='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'}if(B=="controls"){u=u+('<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+P+"</div>")}O.data("videomarkup",u);O.append(u);if((n&&O.data("disablevideoonmobile")==1)||e.isIE(8)){O.find(R).remove()}O.find(R).each(function(S){var T=this,s=jQuery(this);if(!s.parent().hasClass("html5vid")){s.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>')}var U=s.parent();if(U.data("metaloaded")!=1){f(T,"loadedmetadata",function(V){c(V,r);e.resetVideo(V,r)}(O))}});break;case"youtube":y="https";if(B=="none"){H=H.replace("controls=1","controls=0");if(H.toLowerCase().indexOf("controls")==-1){H=H+"&controls=0"}}if(Q.videoinline===true||Q.videoinline==="true"||Q.videoinline===1||O.hasClass("rs-background-video-layer")){H=H+"&playsinline=1"}var D=o(O.data("videostartat")),M=o(O.data("videoendat"));if(D!=-1){H=H+"&start="+D}if(M!=-1){H=H+"&end="+M}var t=H.split("origin="+y+"://"),E="";if(t.length>1){E=t[0]+"origin="+y+"://";if(self.location.href.match(/www/gi)&&!t[1].match(/www/gi)){E=E+"www."}E=E+t[1]}else{E=H}var N=I==="true"||I===true?"allowfullscreen":"";O.data("videomarkup",'<iframe type="text/html" src="'+y+"://www.youtube.com/embed/"+w+"?"+E+'" '+N+' width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>');break;case"vimeo":y="https";O.data("videomarkup",'<iframe src="'+y+"://player.vimeo.com/video/"+q+"?"+H+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;100%;height:100%"></iframe>');break}var G=n&&O.data("noposteronmobile")=="on";if(Q.videoposter!=undefined&&Q.videoposter.length>2&&!G){if(O.find(".tp-videoposter").length==0){O.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+Q.videoposter+'); background-size:cover;background-position:center center;"></div>')}if(O.find("iframe").length==0){O.find(".tp-videoposter").click(function(){e.playVideo(O,r);if(n){if(O.data("disablevideoonmobile")==1){return false}punchgs.TweenLite.to(O.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(O.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}})}}else{if(n&&O.data("disablevideoonmobile")==1){return false}if(O.find("iframe").length==0&&(L=="youtube"||L=="vimeo")){O.removeData("vimeoplayer");O.append(O.data("videomarkup"));l(O,r,false)}}if(O.data("dottedoverlay")!="none"&&O.data("dottedoverlay")!=undefined&&O.find(".tp-dottedoverlay").length!=1){O.append('<div class="tp-dottedoverlay '+O.data("dottedoverlay")+'"></div>')}O.addClass("HasListener");if(O.data("bgvideo")==1){punchgs.TweenLite.set(O.find("video, iframe"),{autoAlpha:0})}}});function o(p){return p==undefined?-1:jQuery.isNumeric(p)?p:p.split(":").length>1?parseInt(p.split(":")[0],0)*60+parseInt(p.split(":")[1],0):p}var f=function(q,p,r){if(q.addEventListener){q.addEventListener(p,r,{capture:false,passive:true})}else{q.attachEvent(p,r,{capture:false,passive:true})}};var j=function(s,r,u){var q={};q.video=s;q.videotype=r;q.settings=u;return q};var i=function(r,q){if(q.data("bgvideo")==1||q.data("forcecover")==1){if(q.data("forcecover")===1){q.removeClass("fullscreenvideo").addClass("coverscreenvideo")}var p=q.data("aspectratio");if(p===undefined&&p.split(":").length<=1){q.data("aspectratio","16:9")}e.prepareCoveredVideo(r,q)}};var l=function(I,p,y){var K=I.data(),w=I.find("iframe"),F="iframe"+Math.round(Math.random()*100000+1),H=K.videoloop,L=H!="loopandnoslidestop";H=H=="loop"||H=="loopandnoslidestop";i(p,I);w.attr("id",F);if(y){I.data("startvideonow",true)}if(I.data("videolistenerexist")!==1){switch(K.videotype){case"youtube":var E=new YT.Player(F,{events:{onStateChange:function(P){var M=I.closest(".tp-simpleresponsive"),Q=K.videorate,R=I.data("videostart"),O=h();if(P.data==YT.PlayerState.PLAYING){punchgs.TweenLite.to(I.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(I.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});if(I.data("volume")=="mute"||e.lastToggleState(I.data("videomutetoggledby"))||p.globalmute===true){E.mute()}else{E.unMute();E.setVolume(parseInt(I.data("volume"),0)||75)}p.videoplaying=true;a(I,p);if(L){p.c.trigger("stoptimer")}else{p.videoplaying=false}p.c.trigger("revolution.slide.onvideoplay",j(E,"youtube",I.data()));e.toggleState(K.videotoggledby)}else{if(P.data==0&&H){var N=o(I.data("videostartat"));if(N!=-1){E.seekTo(N)}E.playVideo();e.toggleState(K.videotoggledby)}if(!O&&(P.data==0||P.data==2)&&((I.data("showcoveronpause")=="on"&&I.find(".tp-videoposter").length>0)||(I.data("bgvideo")===1&&I.find(".rs-fullvideo-cover").length>0))){if(I.data("bgvideo")===1){punchgs.TweenLite.to(I.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut})}else{punchgs.TweenLite.to(I.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut})}punchgs.TweenLite.to(I.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})}if((P.data!=-1&&P.data!=3)){p.videoplaying=false;p.tonpause=false;d(I,p);M.trigger("starttimer");p.c.trigger("revolution.slide.onvideostop",j(E,"youtube",I.data()));if(p.currentLayerVideoIsPlaying==undefined||p.currentLayerVideoIsPlaying.attr("id")==I.attr("id")){e.unToggleState(K.videotoggledby)}}if(P.data==0&&I.data("nextslideatend")==true){b();I.data("nextslideatend-triggered",1);p.c.revnext();d(I,p)}else{d(I,p);p.videoplaying=false;M.trigger("starttimer");p.c.trigger("revolution.slide.onvideostop",j(E,"youtube",I.data()));if(p.currentLayerVideoIsPlaying==undefined||p.currentLayerVideoIsPlaying.attr("id")==I.attr("id")){e.unToggleState(K.videotoggledby)}}}},onReady:function(M){var Q,O=e.is_mobile(),R=I.hasClass("tp-videolayer");if(O||e.isSafari11()){var P=R&&I.data("autoplay")!=="off";if(I.hasClass("rs-background-video-layer")||P){var S=O&&R;if(!S){Q=true;E.setVolume(0);I.data("volume","mute");E.mute();clearTimeout(I.data("mobilevideotimr"));I.data("mobilevideotimr",setTimeout(function(){E.playVideo()},500))}}}if(!Q&&I.data("volume")=="mute"){E.setVolume(0);E.mute()}var N=K.videorate,U=I.data("videostart");I.addClass("rs-apiready");if(N!=undefined){M.target.setPlaybackRate(parseFloat(N))}I.find(".tp-videoposter").unbind("click");I.find(".tp-videoposter").click(function(){if(!n){E.playVideo()}});if(I.data("startvideonow")){K.player.playVideo();var T=o(I.data("videostartat"));if(T!=-1){K.player.seekTo(T)}}I.data("videolistenerexist",1)}}});I.data("player",E);break;case"vimeo":var J=w.attr("src"),B={},r=J,A=/([^&=]+)=([^&]*)/g,C;while(C=A.exec(r)){B[decodeURIComponent(C[1])]=decodeURIComponent(C[2])}if(B.player_id!=undefined){J=J.replace(B.player_id,F)}else{J=J+"&player_id="+F}J=J.replace(/&api=0|&api=1/g,"");var x=e.is_mobile(),v=x||e.isSafari11(),D=I.hasClass("rs-background-video-layer");if(v&&D){J+="&background=1"}w.attr("src",J);var E=I.find("iframe")[0],q=jQuery("#"+F),G;if(!I.data("vimeoplayer")){G=new Vimeo.Player(F);I.data("vimeoplayer",G)}else{G=I.data("vimeoplayer")}if(v){var u;if(D){u=true}else{var t=I.data("autoplay");if(t==="on"||t==="true"||t===true){if(x){I.data("autoplay",false)}u=true}}if(u){G.setVolume(0);I.data("volume","mute")}}G.on("loaded",function(M){var s={};G.getVideoWidth().then(function(N){s.width=N;if(s.width!==undefined&&s.height!==undefined){I.data("aspectratio",s.width+":"+s.height);I.data("vimeoplayerloaded",true);i(p,I)}});G.getVideoHeight().then(function(N){s.height=N;if(s.width!==undefined&&s.height!==undefined){I.data("aspectratio",s.width+":"+s.height);I.data("vimeoplayerloaded",true);i(p,I)}})});I.addClass("rs-apiready");G.on("play",function(s){I.data("nextslidecalled",0);punchgs.TweenLite.to(I.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(I.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});p.c.trigger("revolution.slide.onvideoplay",j(G,"vimeo",I.data()));p.videoplaying=true;a(I,p);if(L){p.c.trigger("stoptimer")}else{p.videoplaying=false}if(I.data("volume")=="mute"||e.lastToggleState(I.data("videomutetoggledby"))||p.globalmute===true){G.setVolume(0)}else{G.setVolume(parseInt(I.data("volume"),0)/100||0.75)}e.toggleState(K.videotoggledby)});G.on("timeupdate",function(N){var O=o(I.data("videoendat"));I.data("currenttime",N.seconds);if(O!=0&&(Math.abs(O-N.seconds)<1&&O>N.seconds)&&I.data("nextslidecalled")!=1){if(H){G.play();var M=o(I.data("videostartat"));if(M!=-1){G.setCurrentTime(M)}}else{if(I.data("nextslideatend")==true){I.data("nextslideatend-triggered",1);I.data("nextslidecalled",1);p.c.revnext()}G.pause()}}});G.on("ended",function(s){d(I,p);p.videoplaying=false;p.c.trigger("starttimer");p.c.trigger("revolution.slide.onvideostop",j(G,"vimeo",I.data()));if(I.data("nextslideatend")==true){I.data("nextslideatend-triggered",1);p.c.revnext()}if(p.currentLayerVideoIsPlaying==undefined||p.currentLayerVideoIsPlaying.attr("id")==I.attr("id")){e.unToggleState(K.videotoggledby)}});G.on("pause",function(s){if(((I.data("showcoveronpause")=="on"&&I.find(".tp-videoposter").length>0)||(I.data("bgvideo")===1&&I.find(".rs-fullvideo-cover").length>0))){if(I.data("bgvideo")===1){punchgs.TweenLite.to(I.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut})}else{punchgs.TweenLite.to(I.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut})}punchgs.TweenLite.to(I.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})}p.videoplaying=false;p.tonpause=false;d(I,p);p.c.trigger("starttimer");p.c.trigger("revolution.slide.onvideostop",j(G,"vimeo",I.data()));if(p.currentLayerVideoIsPlaying==undefined||p.currentLayerVideoIsPlaying.attr("id")==I.attr("id")){e.unToggleState(K.videotoggledby)}});I.find(".tp-videoposter").unbind("click");I.find(".tp-videoposter").click(function(){if(!n){G.play();return false}});if(I.data("startvideonow")){G.play();var z=o(I.data("videostartat"));if(z!=-1){G.setCurrentTime(z)}}I.data("videolistenerexist",1);break}}else{var z=o(I.data("videostartat"));switch(K.videotype){case"youtube":if(y){K.player.playVideo();if(z!=-1){K.player.seekTo()}}break;case"vimeo":if(y){var G=I.data("vimeoplayer");G.play();if(z!=-1){G.seekTo(z)}}break}}};var b=function(){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}};var h=function(){try{if(window.fullScreen!==undefined){return window.fullScreen}var p=5;if(jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)){p=42}return screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<p}catch(q){}};var c=function(p,r,B){if(n&&p.data("disablevideoonmobile")==1){return false}var A=p.data(),E=A.audio=="html5"?"audio":"video",y=p.find(E),q=y[0],s=y.parent(),u=A.videoloop,D=u!="loopandnoslidestop";u=u=="loop"||u=="loopandnoslidestop";s.data("metaloaded",1);if(p.data("bgvideo")==1&&(A.videoloop==="none"||A.videoloop===false)){D=false}if(y.attr("control")==undefined){if(p.find(".tp-video-play-button").length==0&&!n){p.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>')}p.find("video, .tp-poster, .tp-video-play-button").click(function(){if(p.hasClass("videoisplaying")){q.pause()}else{q.play()}})}if(p.data("forcecover")==1||p.hasClass("fullscreenvideo")||p.data("bgvideo")==1){if(p.data("forcecover")==1||p.data("bgvideo")==1){s.addClass("fullcoveredvideo");var z=p.data("aspectratio");if(z===undefined||z.split(":").length==1){p.data("aspectratio","16:9")}e.prepareCoveredVideo(r,p)}else{s.addClass("fullscreenvideo")}}var w=p.find(".tp-vid-play-pause")[0],C=p.find(".tp-vid-mute")[0],x=p.find(".tp-vid-full-screen")[0],t=p.find(".tp-seek-bar")[0],v=p.find(".tp-volume-bar")[0];if(w!=undefined){f(w,"click",function(){if(q.paused==true){q.play()}else{q.pause()}})}if(C!=undefined){f(C,"click",function(){if(q.muted==false){q.muted=true;C.innerHTML="Unmute"}else{q.muted=false;C.innerHTML="Mute"}})}if(x!=undefined){if(x){f(x,"click",function(){if(q.requestFullscreen){q.requestFullscreen()}else{if(q.mozRequestFullScreen){q.mozRequestFullScreen()}else{if(q.webkitRequestFullscreen){q.webkitRequestFullscreen()}}}})}}if(t!=undefined){f(t,"change",function(){var F=q.duration*(t.value/100);q.currentTime=F});f(t,"mousedown",function(){p.addClass("seekbardragged");q.pause()});f(t,"mouseup",function(){p.removeClass("seekbardragged");q.play()})}f(q,"canplaythrough",function(){e.preLoadAudioDone(p,r,"canplaythrough")});f(q,"canplay",function(){e.preLoadAudioDone(p,r,"canplay")});f(q,"progress",function(){e.preLoadAudioDone(p,r,"progress")});f(q,"timeupdate",function(){var H=(100/q.duration)*q.currentTime,I=o(p.data("videoendat")),G=q.currentTime;if(t!=undefined){t.value=H}if(I!=0&&I!=-1&&(Math.abs(I-G)<=0.3&&I>G)&&p.data("nextslidecalled")!=1){if(u){q.play();var F=o(p.data("videostartat"));if(F!=-1){q.currentTime=F}}else{if(p.data("nextslideatend")==true){p.data("nextslideatend-triggered",1);p.data("nextslidecalled",1);r.just_called_nextslide_at_htmltimer=true;r.c.revnext();setTimeout(function(){r.just_called_nextslide_at_htmltimer=false},1000)}q.pause()}}});if(v!=undefined){f(v,"change",function(){q.volume=v.value})}f(q,"play",function(){p.data("nextslidecalled",0);var H=p.data("volume");H=H!=undefined&&H!="mute"?parseFloat(H)/100:H;if(!e.is_mobile()&&!e.isSafari11()){if(r.globalmute===true){q.muted=true}else{q.muted=false}if(H>1){H=H/100}if(H=="mute"){q.muted=true}else{if(H!=undefined){q.volume=H}}}p.addClass("videoisplaying");var G=A.audio=="html5"?"audio":"video";a(p,r);if(!D||G=="audio"){r.videoplaying=false;if(G!="audio"){r.c.trigger("starttimer")}r.c.trigger("revolution.slide.onvideostop",j(q,"html5",A))}else{r.videoplaying=true;r.c.trigger("stoptimer");r.c.trigger("revolution.slide.onvideoplay",j(q,"html5",A))}punchgs.TweenLite.to(p.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(p.find(G),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var I=p.find(".tp-vid-play-pause")[0],F=p.find(".tp-vid-mute")[0];if(I!=undefined){I.innerHTML="Pause"}if(F!=undefined&&q.muted){F.innerHTML="Unmute"}e.toggleState(A.videotoggledby)});f(q,"pause",function(I){var F=A.audio=="html5"?"audio":"video",G=h();if(!G&&p.find(".tp-videoposter").length>0&&p.data("showcoveronpause")=="on"&&!p.hasClass("seekbardragged")){punchgs.TweenLite.to(p.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut});punchgs.TweenLite.to(p.find(F),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})}p.removeClass("videoisplaying");r.videoplaying=false;d(p,r);if(F!="audio"){r.c.trigger("starttimer")}r.c.trigger("revolution.slide.onvideostop",j(q,"html5",p.data()));var H=p.find(".tp-vid-play-pause")[0];if(H!=undefined){H.innerHTML="Play"}if(r.currentLayerVideoIsPlaying==undefined||r.currentLayerVideoIsPlaying.attr("id")==p.attr("id")){e.unToggleState(A.videotoggledby)}});f(q,"ended",function(){b();d(p,r);r.videoplaying=false;d(p,r);if(E!="audio"){r.c.trigger("starttimer")}r.c.trigger("revolution.slide.onvideostop",j(q,"html5",p.data()));if(p.data("nextslideatend")===true&&q.currentTime>0){if(!r.just_called_nextslide_at_htmltimer==true){p.data("nextslideatend-triggered",1);r.c.revnext();r.just_called_nextslide_at_htmltimer=true}setTimeout(function(){r.just_called_nextslide_at_htmltimer=false},1500)}p.removeClass("videoisplaying")})};var a=function(q,p){if(p.playingvideos==undefined){p.playingvideos=new Array()}if(q.data("stopallvideos")){if(p.playingvideos!=undefined&&p.playingvideos.length>0){p.lastplayedvideos=jQuery.extend(true,[],p.playingvideos);jQuery.each(p.playingvideos,function(s,r){e.stopVideo(r,p)})}}p.playingvideos.push(q);p.currentLayerVideoIsPlaying=q};var d=function(q,p){if(p.playingvideos!=undefined&&jQuery.inArray(q,p.playingvideos)>=0){p.playingvideos.splice(jQuery.inArray(q,p.playingvideos),1)}}})(jQuery);